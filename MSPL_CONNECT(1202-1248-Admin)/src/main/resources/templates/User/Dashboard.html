<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">

  <title>Dashboard</title>
  <meta content="" name="description">
  <meta content="" name="keywords">

  <!-- Favicons -->
  <link href="assets/img/favicon.png" rel="icon">
  <link href="assets/img/apple-touch-icon.png" rel="apple-touch-icon">

  <!-- Google Fonts -->
  <link href="https://fonts.gstatic.com" rel="preconnect">
  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,600,600i,700,700i|Nunito:300,300i,400,400i,600,600i,700,700i|Poppins:300,300i,400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

  <!-- Vendor CSS Files -->
  <link href="assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="assets/vendor/boxicons/css/boxicons.min.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.snow.css" rel="stylesheet">
  <link href="assets/vendor/quill/quill.bubble.css" rel="stylesheet">
  <link href="assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="assets/vendor/simple-datatables/style.css" rel="stylesheet">

  <!-- Template Main CSS File -->
  <link href="assets/css/style.css" rel="stylesheet">
  <script src="https://code.highcharts.com/highcharts.js"></script>
  <script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
  

  <!-- =======================================================
  * Template Name: NiceAdmin
  * Template URL: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/
  * Updated: Apr 20 2024 with Bootstrap v5.3.3
  * Author: BootstrapMade.com
  * License: https://bootstrapmade.com/license/
  ======================================================== -->
  <style>  
       .card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 15px;
            margin-bottom: 20px;
        }
        .info-card {
            background-color: #fff;
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        #attendence-chart{
            width: 100%;
            height: 190px; /* Adjust the height as needed */
        }
       #attendence-chart {
        font-size: 3rem; /* Large font size */
        font-weight: bold; /* Make it bold */
        color: #012970; /* Green color for a nice appearance */
        text-align: center; /* Center the text */
        margin-top: 10px; /* Add some space above the running time */
      }
      
        /* Example CSS to style disabled items */
		.activity-item .disabled {
		    pointer-events: none; /* Disable interactions */
		    opacity: 0.5; /* Make the item appear grayed out */
		}
		.activity {
		    max-height: 190px; /* Set the maximum height as per your requirement */
		    overflow: hidden; /* Hide content that overflows */
		    position: relative;
		    transition: max-height 0.3s ease; /* Add a smooth transition */
		}
		
		.activity.expanded {
		    max-height: none; /* Remove the height limit when expanded */
		}
		
		.view-more {
		    display: block;
		    cursor: pointer;
		    color: #007bff; /* Change to your preferred color */
		    text-align: center;
		    padding: 10px;
		    background: white;
		    border-top: 1px solid #ddd;
		    position: absolute;
		    bottom: 0;
		    width: 100%;
		}
		.view-more.hidden {
		    display: none; /* Hide the button when it's not needed */
		}
		.profile-picture {
		    width: 40px;  /* Adjust the size as needed */
		    height: 150px; /* Ensure the height and width are the same */
		    border-radius: 50%; /* This makes the image a circle */
		    object-fit: cover;  /* Ensures the image fits within the circle */
		}		
        .list-group-item {
		    padding: 10px 15px;
		    display: flex;
		    align-items: center;
		}
		
		.list-group-item img {
		    border-radius: 50%; /* Ensures user image is circular */
		}
		
		.list-group-item .ms-3 {
		    margin-left: 15px; /* Spacing between the icon and text */
		}
		.leaveLists small{
			color:#99A3A4;
		}
		                
  </style>
</head>

<body>

  <!-- ======= Header ======= -->
 <header id="header" class="header fixed-top d-flex align-items-center">
	
		   <div class="d-flex align-items-center" style="width:100%; margin:0 0 0 10px; padding:5px;">
				    <a class="app-logo" th:href=@{/dashboard}>
				        <img class="d-none d-lg-block" src="assets/img/logo.png" alt="logo" style="width:200px; height:50px; max-width:100%; padding:0 2px 0 10px; margin:0;">
				    </a>
				    <i class="bi bi-chevron-double-left toggle-sidebar-btn" onclick="toggleIconRotation()"></i>
			</div>	 
 
   <!-- Include the header fragment -->
   <div th:replace="fragments/header :: header"></div>
  
  </header><!-- End Header -->

  <!-- ======= Sidebar ======= -->
  <aside id="sidebar" class="sidebar">
    <ul class="sidebar-nav" id="sidebar-nav">
        <li class="nav-item" th:if="${empDetailsByEmpId.deptId == 75}">
            <a class="nav-link active" href="#">
                <i class="bi bi-grid"></i>
                <span>Dashboard</span>
            </a>
        </li>
        
        <li class="nav-item" th:if="${empDetailsByEmpId.deptId == 75}">
            <a class="nav-link" href="#">
                <i class="bi bi-file-text"></i>
                <span>Payslip</span>
            </a>
        </li>
         <li class="nav-item" th:if="${empDetailsByEmpId.deptId == 75}">
            <a class="nav-link" href="#">
                <i class="bi bi-person"></i>
                <span>Bank Transaction</span>
            </a>
        </li>  
        <li class="nav-item" th:if="${empDetailsByEmpId.deptId == 75}">
			<a class="nav-link" href="#">
				<i class="bi bi-calendar3"></i>
				<span>Business Analytics</span>
			</a>
	   </li>
	   
	   
	   <li class="nav-item" th:if="${empDetailsByEmpId.deptId == 76}">
            <a class="nav-link active" href="#">
                <i class="bi bi-grid"></i>
                <span>Dashboard</span>
            </a>
        </li>
	   <li class="nav-item" th:if="${empDetailsByEmpId.deptId == 76}">
            <a class="nav-link" href="#">
                <i class="bi bi-person"></i>
                <span>Marketing</span>
            </a>
        </li>  
        <li class="nav-item" th:if="${empDetailsByEmpId.deptId == 76}">
			<a class="nav-link" href="#">
				<i class="bi bi-calendar3"></i>
				<span>Clients</span>
			</a>
	   </li>
    </ul>
</aside>

<!-- <aside id="sidebar" class="sidebar">
	    <ul class="sidebar-nav" id="sidebar-nav">
	      <li class="nav-item">
			    <a class="nav-link" th:href="@{/navbar}">
			        <i class="bi bi-grid"></i>
			        <span>Dashboard</span>
			    </a>
		 </li>
		 <li class="nav-item">
			    <a class="nav-link" th:href="@{/addDepartment}">
			        <i class="bi bi-grid"></i>
			        <span>Department</span>
			    </a>
		 </li>
		  <li class="nav-item">
			    <a class="nav-link" th:href="@{/addRole}">
			        <i class="bi bi-grid"></i>
			        <span>Role</span>
			    </a>
			</li>
			<li class="nav-item">
			    <a class="nav-link" th:href="@{/employee}">
			        <i class="bi bi-grid"></i>
			        <span>Employee</span>
			    </a>
			</li><!-- End Dashboard Nav -->
	
	     <!--  <li class="nav-item">
	        <a class="nav-link collapsed" data-bs-target="#components-nav" data-bs-toggle="collapse" href="#">
	          <i class="bi bi-menu-button-wide"></i><span>Components</span><i class="bi bi-chevron-down ms-auto"></i>
	        </a>
	        <ul id="components-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
	          <li>
	            <a href="components-alerts.html">
	              <i class="bi bi-circle"></i><span>Alerts</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-accordion.html">
	              <i class="bi bi-circle"></i><span>Accordion</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-badges.html">
	              <i class="bi bi-circle"></i><span>Badges</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-breadcrumbs.html">
	              <i class="bi bi-circle"></i><span>Breadcrumbs</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-buttons.html">
	              <i class="bi bi-circle"></i><span>Buttons</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-cards.html">
	              <i class="bi bi-circle"></i><span>Cards</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-carousel.html">
	              <i class="bi bi-circle"></i><span>Carousel</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-list-group.html">
	              <i class="bi bi-circle"></i><span>List group</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-modal.html">
	              <i class="bi bi-circle"></i><span>Modal</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-tabs.html">
	              <i class="bi bi-circle"></i><span>Tabs</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-pagination.html">
	              <i class="bi bi-circle"></i><span>Pagination</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-progress.html">
	              <i class="bi bi-circle"></i><span>Progress</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-spinners.html">
	              <i class="bi bi-circle"></i><span>Spinners</span>
	            </a>
	          </li>
	          <li>
	            <a href="components-tooltips.html">
	              <i class="bi bi-circle"></i><span>Tooltips</span>
	            </a>
	          </li>
	        </ul>
      </li>End Components Nav

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#forms-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-journal-text"></i><span>Forms</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="forms-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
          <li>
            <a href="forms-elements.html">
              <i class="bi bi-circle"></i><span>Form Elements</span>
            </a>
          </li>
          <li>
            <a href="forms-layouts.html">
              <i class="bi bi-circle"></i><span>Form Layouts</span>
            </a>
          </li>
          <li>
            <a href="forms-editors.html">
              <i class="bi bi-circle"></i><span>Form Editors</span>
            </a>
          </li>
          <li>
            <a href="forms-validation.html">
              <i class="bi bi-circle"></i><span>Form Validation</span>
            </a>
          </li>
        </ul>
      </li>End Forms Nav

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#tables-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-layout-text-window-reverse"></i><span>Tables</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="tables-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
          <li>
            <a href="tables-general.html">
              <i class="bi bi-circle"></i><span>General Tables</span>
            </a>
          </li>
          <li>
            <a href="tables-data.html">
              <i class="bi bi-circle"></i><span>Data Tables</span>
            </a>
          </li>
        </ul>
      </li>End Tables Nav

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#charts-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-bar-chart"></i><span>Charts</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="charts-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
          <li>
            <a href="charts-chartjs.html">
              <i class="bi bi-circle"></i><span>Chart.js</span>
            </a>
          </li>
          <li>
            <a href="charts-apexcharts.html">
              <i class="bi bi-circle"></i><span>ApexCharts</span>
            </a>
          </li>
          <li>
            <a href="charts-echarts.html">
              <i class="bi bi-circle"></i><span>ECharts</span>
            </a>
          </li>
        </ul>
      </li>End Charts Nav

      <li class="nav-item">
        <a class="nav-link collapsed" data-bs-target="#icons-nav" data-bs-toggle="collapse" href="#">
          <i class="bi bi-gem"></i><span>Icons</span><i class="bi bi-chevron-down ms-auto"></i>
        </a>
        <ul id="icons-nav" class="nav-content collapse " data-bs-parent="#sidebar-nav">
          <li>
            <a href="icons-bootstrap.html">
              <i class="bi bi-circle"></i><span>Bootstrap Icons</span>
            </a>
          </li>
          <li>
            <a href="icons-remix.html">
              <i class="bi bi-circle"></i><span>Remix Icons</span>
            </a>
          </li>
          <li>
            <a href="icons-boxicons.html">
              <i class="bi bi-circle"></i><span>Boxicons</span>
            </a>
          </li>
        </ul>
      </li>End Icons Nav

      <li class="nav-heading">Pages</li>

      <li class="nav-item">
        <a class="nav-link collapsed" href="users-profile.html">
          <i class="bi bi-person"></i>
           <span>My Profile</span>
        </a>
      </li>End Profile Page Nav

      <li class="nav-item">
        <a class="nav-link collapsed" href="pages-faq.html">
          <i class="bi bi-question-circle"></i>
          <span>F.A.Q</span>
        </a>
      </li>End F.A.Q Page Nav

      <li class="nav-item">
        <a class="nav-link collapsed" href="pages-contact.html">
          <i class="bi bi-envelope"></i>
          <span>Contact</span>
        </a>
      </li>End Contact Page Nav

      <li class="nav-item">
        <a class="nav-link collapsed" href="pages-register.html">
          <i class="bi bi-card-list"></i>
          <span>Register</span>
        </a>
      </li>End Register Page Nav

      <li class="nav-item">
        <a class="nav-link collapsed" href="pages-login.html">
          <i class="bi bi-box-arrow-in-right"></i>
          <span>Login</span>
        </a>
      </li>End Login Page Nav

      <li class="nav-item">
        <a class="nav-link collapsed" href="pages-error-404.html">
          <i class="bi bi-dash-circle"></i>
          <span>Error 404</span>
        </a>
      </li>End Error 404 Page Nav

      <li class="nav-item">
        <a class="nav-link collapsed" href="pages-blank.html">
          <i class="bi bi-file-earmark"></i>
          <span>Blank</span>
        </a>
      </li> --><!-- End Blank Page Nav -->

    </ul>

  </aside> --><!-- End Sidebar-->

  <main id="main" class="main">
	<input type="hidden" id="employeeId1" name="empId" th:value="${empDetailsByEmpId.empid}" />
	<input type="hidden" id="loggedEmpEmail" th:value="${empDetailsByEmpId.email}">
	
    <div class="pagetitle">
      <nav>
        <ol class="breadcrumb">
          <li class="breadcrumb-item"><a href="index.html">Home</a></li>
          <li class="breadcrumb-item active">Dashboard</li>
        </ol>
      </nav>
    </div><!-- End Page Title -->
     <section class="section error-404 min-vh-100 d-flex flex-column align-items-center justify-content-center">
        <h1>404</h1>
        <h2>The page you are looking for doesn't exist.</h2>
        <img src="assets/img/not-found.svg" class="img-fluid py-5" alt="Page Not Found">
        <div class="credits">
          <!-- All the links in the footer should remain intact. -->
          <!-- You can delete the links only if you purchased the pro version. -->
          <!-- Licensing information: https://bootstrapmade.com/license/ -->
          <!-- Purchase the pro version with working PHP/AJAX contact form: https://bootstrapmade.com/nice-admin-bootstrap-admin-html-template/ -->
        
        </div>
      </section>
    <section class="section dashboard">
      <div class="row">
        <!-- Left side columns -->
        <div class="col-lg-8">
          <div class="row">

            <!-- Sales Card -->
						<div class="row col-12 p-0 m-0">
						<!-- Department Card -->
						<!-- <div class="col-xxl-6 col-md-6 p-1">
						    <div class="card info-card sales-card mb-1">
						        <h5 class="card-title m-0 p-0 mb-2">
						            Attendance Start Time: <span id="start-time" th:text="${loggedInTime}">01:00:00</span>
						        </h5>
						        <div id="attendence-chart" class="running-time"><span id="elapsedTime">00:00:00</span></div> Running time will be displayed here
						    </div>
						</div> -->

<!-- 							<div class="col-xxl-6 col-md-6 p-1">
								<div class="card info-card customers-card mb-2">
									<div class="card-body p-0">
										<h5 class="card-title m-0 p-0 mb-2">Total Employees</h5>

										<div class = "d-flex justify-content-between align-items-center p-0 mb-0">
											<div
												class="card-icon rounded-circle d-flex align-items-center justify-content-center">
												<i class="bi bi-people-fill"></i>
											</div>
											<div class="ps-3">
												<h6><span th:text="${totalEmployeCount}"></span></h6>
											</div>
											
										</div>	
									</div>
								</div>
								<div class="card info-card customers-card mb-2">
									<div class="card-body p-0">
										<h5 class="card-title m-0 p-0 mb-2">Departments</h5>

										<div class="d-flex justify-content-between align-items-center p-0 mb-0">
											<div class="card-icon rounded-circle d-flex align-items-center justify-content-center">
												<i class="bi bi-diagram-3-fill bi-1x"></i>
											</div>
											<div class="ps-3">
												<h6><span th:text="${totalNoOfDepts}"></span></h6>
											</div>
										</div>

									</div>
								</div>
								
							</div> -->
						</div>

						<!-- Customers Card -->
           <!-- End Customers Card -->

            <!-- Reports -->
           <!--  <div class="col-xxl-6 col-md-6 p-1">
								<div class="card info-card sales-card">
									<h5 class="card-title m-0 p-0 mb-2">Attendence<span>| Today</span></h5>
									<div id="attendence-chart1"></div>
								</div>
				</div>
 -->
            <!-- Recent Sales -->
        <!--     <div class="col-12">
              <div class="card recent-sales overflow-auto">

                <div class="filter">
                  <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                    <li class="dropdown-header text-start">
                      <h6>Filter</h6>
                    </li>

                    <li><a class="dropdown-item" href="#">Today</a></li>
                    <li><a class="dropdown-item" href="#">This Month</a></li>
                    <li><a class="dropdown-item" href="#">This Year</a></li>
                  </ul>
                </div>

                <div class="card-body">
                  <h5 class="card-title">Recent Sales <span>| Today</span></h5>

                  <table class="table table-borderless datatable">
                    <thead>
                      <tr>
                        <th scope="col">#</th>
                        <th scope="col">Customer</th>
                        <th scope="col">Product</th>
                        <th scope="col">Price</th>
                        <th scope="col">Status</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row"><a href="#">#2457</a></th>
                        <td>Brandon Jacob</td>
                        <td><a href="#" class="text-primary">At praesentium minu</a></td>
                        <td>$64</td>
                        <td><span class="badge bg-success">Approved</span></td>
                      </tr>
                      <tr>
                        <th scope="row"><a href="#">#2147</a></th>
                        <td>Bridie Kessler</td>
                        <td><a href="#" class="text-primary">Blanditiis dolor omnis similique</a></td>
                        <td>$47</td>
                        <td><span class="badge bg-warning">Pending</span></td>
                      </tr>
                      <tr>
                        <th scope="row"><a href="#">#2049</a></th>
                        <td>Ashleigh Langosh</td>
                        <td><a href="#" class="text-primary">At recusandae consectetur</a></td>
                        <td>$147</td>
                        <td><span class="badge bg-success">Approved</span></td>
                      </tr>
                      <tr>
                        <th scope="row"><a href="#">#2644</a></th>
                        <td>Angus Grady</td>
                        <td><a href="#" class="text-primar">Ut voluptatem id earum et</a></td>
                        <td>$67</td>
                        <td><span class="badge bg-danger">Rejected</span></td>
                      </tr>
                      <tr>
                        <th scope="row"><a href="#">#2644</a></th>
                        <td>Raheem Lehner</td>
                        <td><a href="#" class="text-primary">Sunt similique distinctio</a></td>
                        <td>$165</td>
                        <td><span class="badge bg-success">Approved</span></td>
                      </tr>
                    </tbody>
                  </table>

                </div>

              </div>
            </div> --><!-- End Recent Sales -->

            <!-- Top Selling -->
            <!-- <div class="col-12">
              <div class="card top-selling overflow-auto">

                <div class="filter">
                  <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
                  <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                    <li class="dropdown-header text-start">
                      <h6>Filter</h6>
                    </li>
                    <li><a class="dropdown-item" href="#">Today</a></li>
                    <li><a class="dropdown-item" href="#">This Month</a></li>
                    <li><a class="dropdown-item" href="#">This Year</a></li>
                  </ul>
                </div>

                <div class="card-body pb-0">
                  <h5 class="card-title">Top Selling <span>| Today</span></h5>

                  <table class="table table-borderless">
                    <thead>
                      <tr>
                        <th scope="col">Preview</th>
                        <th scope="col">Product</th>
                        <th scope="col">Price</th>
                        <th scope="col">Sold</th>
                        <th scope="col">Revenue</th>
                      </tr>
                    </thead>
                    <tbody>
                      <tr>
                        <th scope="row"><a href="#"><img src="assets/img/product-1.jpg" alt=""></a></th>
                        <td><a href="#" class="text-primary fw-bold">Ut inventore ipsa voluptas nulla</a></td>
                        <td>$64</td>
                        <td class="fw-bold">124</td>
                        <td>$5,828</td>
                      </tr>
                      <tr>
                        <th scope="row"><a href="#"><img src="assets/img/product-2.jpg" alt=""></a></th>
                        <td><a href="#" class="text-primary fw-bold">Exercitationem similique doloremque</a></td>
                        <td>$46</td>
                        <td class="fw-bold">98</td>
                        <td>$4,508</td>
                      </tr>
                      <tr>
                        <th scope="row"><a href="#"><img src="assets/img/product-3.jpg" alt=""></a></th>
                        <td><a href="#" class="text-primary fw-bold">Doloribus nisi exercitationem</a></td>
                        <td>$59</td>
                        <td class="fw-bold">74</td>
                        <td>$4,366</td>
                      </tr>
                      <tr>
                        <th scope="row"><a href="#"><img src="assets/img/product-4.jpg" alt=""></a></th>
                        <td><a href="#" class="text-primary fw-bold">Officiis quaerat sint rerum error</a></td>
                        <td>$32</td>
                        <td class="fw-bold">63</td>
                        <td>$2,016</td>
                      </tr>
                      <tr>
                        <th scope="row"><a href="#"><img src="assets/img/product-5.jpg" alt=""></a></th>
                        <td><a href="#" class="text-primary fw-bold">Sit unde debitis delectus repellendus</a></td>
                        <td>$79</td>
                        <td class="fw-bold">41</td>
                        <td>$3,239</td>
                      </tr>
                    </tbody>
                  </table>

                </div>

              </div>
            </div> --><!-- End Top Selling -->

          </div>
        </div><!-- End Left side columns -->

        <!-- Right side columns -->
        <!-- <div class="col-lg-4 p-2 pt-1">

          Recent Activity
					<div class="card pb-0">
						<div class="card-body pt-0 pb-0 mt-0">
							<h5 class="card-title pt-0">
								Events&nbsp;<span>| Month</span>
							</h5>
							<div class="activity"></div>
						</div>

					</div>
					End Recent Activity

          Budget Report
          <div class="card">
		    <div class="card-body pt-0 pb-0 mt-0">
		        <h5 class="card-title pt-0">Leave Request(s)<span>| This Month</span></h5>
		
		        <div id="Leaves">
		            Loop through usersList
		            <ul class="list-group list-group-flush">
		                <li th:each="user : ${usersList}" class="list-group-item d-flex align-items-center">
		                    User Icon (Placeholder or fetched image)
		                    <img src="assets/img/profile-img.jpg" alt="Profile" class="rounded-circle" width="40" height="40">
		                    
		                    User Name and Leave Info
		                    <div class="ms-3 leaveLists">
		                        <h6 class="m-0" th:text="${user.employee_name}"></h6>
		                        <small th:text="'From: ' + ${user.from_date}"></small><br>
		                        <small th:text="'To: ' + ${user.to_date}"></small>
		                    </div>
		                    
		                </li>
		            </ul>
		        </div>
		    </div>
		</div>
		End Budget Report

          Website Traffic
          <div class="card">
            <div class="filter">	
              <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
              <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                <li class="dropdown-header text-start">
                  <h6>Filter</h6>
                </li>

                <li><a class="dropdown-item" href="#">Today</a></li>
                <li><a class="dropdown-item" href="#">This Month</a></li>
                <li><a class="dropdown-item" href="#">This Year</a></li>
              </ul>
            </div>

            <div class="card-body pb-0">
              <h5 class="card-title">Website Traffic <span>| Today</span></h5>

              <div id="trafficChart" style="min-height: 400px;" class="echart"></div>

              <script>
                document.addEventListener("DOMContentLoaded", () => {
                  echarts.init(document.querySelector("#trafficChart")).setOption({
                    tooltip: {
                      trigger: 'item'
                    },
                    legend: {
                      top: '5%',
                      left: 'center'
                    },
                    series: [{
                      name: 'Access From',
                      type: 'pie',
                      radius: ['40%', '70%'],
                      avoidLabelOverlap: false,
                      label: {
                        show: false,
                        position: 'center'
                      },
                      emphasis: {
                        label: {
                          show: true,
                          fontSize: '18',
                          fontWeight: 'bold'
                        }
                      },
                      labelLine: {
                        show: false
                      },
                      data: [{
                          value: 1048,
                          name: 'Search Engine'
                        },
                        {
                          value: 735,
                          name: 'Direct'
                        },
                        {
                          value: 580,
                          name: 'Email'
                        },
                        {
                          value: 484,
                          name: 'Union Ads'
                        },
                        {
                          value: 300,
                          name: 'Video Ads'
                        }
                      ]
                    }]
                  });
                });
              </script>

            </div>
          </div> --><!-- End Website Traffic

          News & Updates Traffic
          <div class="card">
            <div class="filter">
              <a class="icon" href="#" data-bs-toggle="dropdown"><i class="bi bi-three-dots"></i></a>
              <ul class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                <li class="dropdown-header text-start">
                  <h6>Filter</h6>
                </li>

                <li><a class="dropdown-item" href="#">Today</a></li>
                <li><a class="dropdown-item" href="#">This Month</a></li>
                <li><a class="dropdown-item" href="#">This Year</a></li>
              </ul>
            </div>

            <div class="card-body pb-0">
              <h5 class="card-title">News &amp; Updates <span>| Today</span></h5>

              <div class="news">
                <div class="post-item clearfix">
                  <img src="assets/img/news-1.jpg" alt="">
                  <h4><a href="#">Nihil blanditiis at in nihil autem</a></h4>
                  <p>Sit recusandae non aspernatur laboriosam. Quia enim eligendi sed ut harum...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="assets/img/news-2.jpg" alt="">
                  <h4><a href="#">Quidem autem et impedit</a></h4>
                  <p>Illo nemo neque maiores vitae officiis cum eum turos elan dries werona nande...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="assets/img/news-3.jpg" alt="">
                  <h4><a href="#">Id quia et et ut maxime similique occaecati ut</a></h4>
                  <p>Fugiat voluptas vero eaque accusantium eos. Consequuntur sed ipsam et totam...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="assets/img/news-4.jpg" alt="">
                  <h4><a href="#">Laborum corporis quo dara net para</a></h4>
                  <p>Qui enim quia optio. Eligendi aut asperiores enim repellendusvel rerum cuder...</p>
                </div>

                <div class="post-item clearfix">
                  <img src="assets/img/news-5.jpg" alt="">
                  <h4><a href="#">Et dolores corrupti quae illo quod dolor</a></h4>
                  <p>Odit ut eveniet modi reiciendis. Atque cupiditate libero beatae dignissimos eius...</p>
                </div>

              </div>End sidebar recent posts

            </div>
          </div> --><!-- End News & Updates

        </div> --><!-- End Right side columns -->

      </div>
    </section>

  </main><!-- End #main -->

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">
    <div class="copyright">
      &copy; Copyright <strong><span>Melange System pvt ltd</span></strong>. All Rights Reserved
    </div>
  </footer><!-- End Footer -->

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS Files -->
  <script src="assets/vendor/apexcharts/apexcharts.min.js"></script>
  <script src="assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="assets/vendor/chart.js/chart.umd.js"></script>
  <script src="assets/vendor/echarts/echarts.min.js"></script>
  <script src="assets/vendor/quill/quill.js"></script>
  <script src="assets/vendor/simple-datatables/simple-datatables.js"></script>
  <script src="assets/vendor/tinymce/tinymce.min.js"></script>
  <script src="assets/vendor/php-email-form/validate.js"></script>

  <!-- Template Main JS File -->
  <script src="assets/js/main.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

<div id="attendence-chart"></div>
<script src="/path/to/your/timer.js"></script>
    <script>
        // Function to calculate elapsed time
        function calculateElapsedTime(loggedInTime) {
            const currentTime = new Date();
            
            // Parse the logged-in time (format: HH:mm:ss) into a date object for today
            const [hours, minutes, seconds] = loggedInTime.split(":").map(Number);
            const loggedInDate = new Date();
            loggedInDate.setHours(hours, minutes, seconds, 0);  // Set the time

            // Calculate the difference in milliseconds
            const elapsedMs = currentTime - loggedInDate;

            // Convert milliseconds into hours, minutes, and seconds
            const totalSeconds = Math.floor(elapsedMs / 1000);
            const hoursWorked = Math.floor(totalSeconds / 3600);
            const minutesWorked = Math.floor((totalSeconds % 3600) / 60);
            const secondsWorked = totalSeconds % 60;

            // Format as HH:mm:ss
            const formattedElapsedTime = `${String(hoursWorked).padStart(2, '0')}:${String(minutesWorked).padStart(2, '0')}:${String(secondsWorked).padStart(2, '0')}`;

            return formattedElapsedTime;
        }

        // Function to update elapsed time every second
        function startTimer(loggedInTime) {
            if (loggedInTime === "" || loggedInTime === "00:00:00") {
                document.getElementById('elapsedTime').textContent = "00:00:00";
            } else {
                setInterval(() => {
                    const elapsedTime = calculateElapsedTime(loggedInTime);
                    document.getElementById('elapsedTime').textContent = elapsedTime;
                }, 1000);
            }
        }

        // Get the logged-in time from the HTML and start the timer
        const loggedInTime = document.getElementById('start-time').textContent || "00:00:00";
        startTimer(loggedInTime);
    </script>


<!-- script to fetch events -->
<script>
    // Fetch data from the backend
    fetch('/api/events')
        .then(response => response.json())
        .then(data => {
            const activityDiv = document.querySelector('.activity');
            activityDiv.innerHTML = ''; // Clear existing content
			console.log("data......"+data);
            // Helper function to format date to 'dd-MM-yyyy'
            function formatDate(date) {
                const day = String(date.getDate()).padStart(2, '0');
                const month = String(date.getMonth() + 1).padStart(2, '0'); // Months are zero-indexed
                const year = date.getFullYear();
                return `${day}-${month}-${year}`;
            }

            const today = formatDate(new Date()); // Get today's date in 'dd-MM-yyyy' format

            data.forEach(event => {
                const eventDate = formatDate(new Date(event.date.split('-').reverse().join('-'))); // Convert event date to 'dd-MM-yyyy' format

                const activityItem = document.createElement('div');
                activityItem.classList.add('activity-item', 'd-flex');

                const activiteLabel = document.createElement('div');
                activiteLabel.classList.add('activite-label');
                activiteLabel.textContent = event.date;

                const activityBadge = document.createElement('i');
                activityBadge.classList.add('bi', 'bi-circle-fill', 'activity-badge', event.badgeColor, 'align-self-start');
                activityBadge.style.backgroundColor = event.badgeColor || 'defaultColor'; // Replace 'defaultColor' with a fallback color if needed

                const activityContent = document.createElement('div');
                activityContent.classList.add('activity-content');
                activityContent.innerHTML = event.content;

                if (eventDate === today) {
                    activityItem.classList.remove('disabled');
                } else {
                    activityItem.classList.add('disabled');
                    activityItem.style.opacity = '0.5'; // Gray out the item
                }

                activityItem.appendChild(activiteLabel);
                activityItem.appendChild(activityBadge);
                activityItem.appendChild(activityContent);

                activityDiv.appendChild(activityItem);
            });

            // Add 'View More' button
            const viewMoreButton = document.createElement('div');
            viewMoreButton.classList.add('view-more');
            viewMoreButton.textContent = 'View More';

            viewMoreButton.addEventListener('click', function() {
                // Toggle expansion
                activityDiv.classList.toggle('expanded');
                if (activityDiv.classList.contains('expanded')) {
                    viewMoreButton.textContent = 'View Less';
                } else {
                    viewMoreButton.textContent = 'View More';
                }
            });

            activityDiv.appendChild(viewMoreButton);

            // If the content doesn't overflow, hide the "View More" button
            if (activityDiv.scrollHeight <= activityDiv.clientHeight) {
                viewMoreButton.classList.add('hidden');
            }
        })
        .catch(error => console.error('Error fetching events:', error));
</script>
<!-- script to notification -->
<script>
// Function to fetch flag value from the backend
function fetchFlag() {
    $.get("/flag", function(response) {
        var leaveRequestCountValue = response; 
        //console.log(leaveRequestCountValue);
        // If total notification count is greater than 0, show the bell icon and notifications
        if (leaveRequestCountValue.totalNotificationCount > 0) {
            $("#notificationBellIcon").show();  // Show bell icon
            $("#leaveRequestNotification").show();  // Show specific notification
            
            $("#leaveRequestMessage").text(leaveRequestCountValue.leaveRequestFlagCount + " leave request(s)");
            $(".badge-number").text(leaveRequestCountValue.leaveRequestFlagCount);
            $("#leaveRequestFlagCount").text(leaveRequestCountValue.leaveRequestFlagCount);
        } else {
            // If total notification count is 0, hide the bell icon and notification
            $("#notificationBellIcon").hide();
        }
        //display the asset notifu=ication based on asset count value
        if(leaveRequestCountValue.asseteRequestFlagCount>0){
        	
        	 $("#notificationBellIcon").show();  // Show bell icon
             $("#assetRequestNotification").show();  // Show specific notification
             
             $("#assetRequestMessage").text(leaveRequestCountValue.asseteRequestFlagCount + " asset request(s)");
             $(".badge-number").text(leaveRequestCountValue.totalNotificationCount);
             $("#asseteRequestFlagCount").text(leaveRequestCountValue.asseteRequestFlagCount);
        		
        }
        else {
            // If total notification count is 0, hide the bell icon and notification
            $("#assetRequestNotification").hide();
        }
        
        //display the new project notification based on asset count value
        if(leaveRequestCountValue.newPrjectValueCount>0){
        	 $("#notificationBellIcon").show();  // Show bell icon
             $("#newProjectNotification").show();  // Show specific notification
             
             $("#newProjectMessage").text(leaveRequestCountValue.newPrjectValueCount + " project request(s)");
             $(".badge-number").text(leaveRequestCountValue.totalNotificationCount);
             $("#newPrjectValueCount").text(leaveRequestCountValue.asseteRequestFlagCount);
        }
        else {
            // If total notification count is 0, hide the bell icon and notification
            $("#notificationBellIcon").hide();
        }
         
    });
}

// Periodically fetch flag value every second (adjust as needed)
setInterval(fetchFlag, 1000);

</script>

<!-- script to notification link redirect -->
<script th:inline="javascript">
    function redirectToLeaveRequest() {
        var empid = /*[[${empDetailsByEmpId.empid}]]*/ 'defaultEmpId';
        window.location.href = '/viewAdminLeaves?empid=' + empid;
    }
    function redirectToAsset() {
        //var empid = /*[[${empDetailsByEmpId.empid}]]*/ 'defaultEmpId';
        window.location.href = '/asset';
    }
    function redirectToProject() {
        //var empid = /*[[${empDetailsByEmpId.empid}]]*/ 'defaultEmpId';
        window.location.href = '/ongoingProject';
    }
</script>



<!-- script for display attendence graph -->
<script>
const data = [
    { name: 'Present', count: 23 },
    { name: 'Absent', count: 6},
   
];

        	console.log(data);
            // Initialize the chart with the fetched data
            Highcharts.chart('attendence-chart1', {
                chart: {
                    type: 'pie'
                },
                title: {
                    text: ''
                },
                plotOptions: {
                    pie: {
                        dataLabels: {
                            enabled: true,
                            distance: 5, // Move labels slightly outside the pie
                            formatter: function() {
                                return this.point.name + ': <br>' + this.point.y;
                            },
                            style: {
                                color: 'black',
                                textOutline: 'none'
                            }
                        }
                    }
                },
                series: [{
                    name: 'Employees',
                    data: data.map(dept => [dept.name, dept.count])
                }]
            });
       
</script>
</body>

</html>